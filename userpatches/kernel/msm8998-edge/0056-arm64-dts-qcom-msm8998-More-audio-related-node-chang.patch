From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Jami Kettunen <jami.kettunen@protonmail.com>
Date: Fri, 28 Jan 2022 15:50:24 +0200
Subject: arm64: dts: qcom: msm8998: More audio related node changes

Originally from: d95b982a
---
 arch/arm64/boot/dts/qcom/msm8998.dtsi | 16 ++++++----
 1 file changed, 10 insertions(+), 6 deletions(-)

diff --git a/arch/arm64/boot/dts/qcom/msm8998.dtsi b/arch/arm64/boot/dts/qcom/msm8998.dtsi
index ac168a0e328f..7e565517be10 100644
--- a/arch/arm64/boot/dts/qcom/msm8998.dtsi
+++ b/arch/arm64/boot/dts/qcom/msm8998.dtsi
@@ -874,6 +874,9 @@ slpi_smp2p_in: slave-kernel {
 		};
 	};
 
+	sound: sound {
+	};
+
 	thermal-zones {
 		cpu0-thermal {
 			polling-delay-passive = <250>;
@@ -3452,6 +3455,7 @@ slimbam: dma-controller@17184000 {
 			#dma-cells = <1>;
 			qcom,ee = <1>;
 			qcom,num-ees = <2>;
+			status = "disabled";
 		};
 
 		slim: slim@171c0000 {
@@ -3461,22 +3465,22 @@ slim: slim@171c0000 {
 
 			qcom,apps-ch-pipes = <0x1f80>;
 			qcom,ea-pc = <0x210>;
-			status = "okay";
+
 			dmas =	<&slimbam 3>, <&slimbam 4>,
 				<&slimbam 5>, <&slimbam 6>;
 			dma-names = "rx", "tx", "tx2", "rx2";
 
 			#address-cells = <1>;
 			#size-cells = <0>;
+			status = "disabled";
 
-			ngd@1 {
+			slim_ngd: ngd@1 {
 				reg = <1>;
-				#address-cells = <2>;
-				#size-cells = <0>;
+				#address-cells = <1>;
+				#size-cells = <1>;
 			};
 		};
 
-
 		remoteproc_adsp: remoteproc@17300000 {
 			compatible = "qcom,msm8998-adsp-pas";
 			reg = <0x17300000 0x4040>;
@@ -3571,7 +3575,7 @@ fastrpc {
 
 					cb@2 {
 						compatible = "qcom,fastrpc-compute-cb";
-						dma-ranges = <0 0x60000000 0 0x18000000>;
+						//dma-ranges = <0 0x60000000 0 0x18000000>;
 						reg = <2>;
 						iommus = <&lpass_q6_smmu 2>;
 					};
-- 
Armbian

